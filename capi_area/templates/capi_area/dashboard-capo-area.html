{% extends "base/main.html" %}
{% load static %}
{% block content %}
<script src="{% static 'users/js/script.js' %}"></script>
<script src="{% static 'base/js/jquery.js' %}"></script>
<script src="{% static 'capi_area/js/jquery.js' %}"></script>
<link rel="stylesheet" href="{% static 'users/css/style.css' %}">

<title>{% block title%}Dashboard Capo Area{% endblock %}</title>

<section style="box-shadow: 0 5px 10px rgba(0, 0, 0, 0.2); margin-left:268px;">
    <header class="p-3 bg-light text-black">
        <div class="d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start">
    
        <ul class="nav col-12 col-lg-auto me-lg-auto mb-2 justify-content-center mb-md-0">
            <li class="nav-link px-2 text-dark"></li>
            <li class="nav-link px-2 text-dark">Ciao, {{user.first_name}}</li>
        </ul>
    
        <form class="col-12 col-lg-auto mb-3 mb-lg-0 me-lg-3">
            <input type="search" class="form-control form-control-dark" placeholder="Search..." aria-label="Search">
        </form>
</header>
</section>


<section style="margin-left:300px; margin-top:50px;">
<div class="cartaBox">
    <div class="carta">
        <div>
            <a href="#">
            <div class="numbers">{{squadraPresenteNumero}} / {{numeroSquadra}} </div>
                <div class="cartaName">Team in presenza</div>
        </div>
            <div class="iconBox">
                <svg xmlns="http://www.w3.org/2000/svg" width="55" height="55" fill="currentColor" class="bi bi-microsoft-teams" viewBox="0 0 16 16">
                    <path d="M9.186 4.797a2.42 2.42 0 1 0-2.86-2.448h1.178c.929 0 1.682.753 1.682 1.682v.766Zm-4.295 7.738h2.613c.929 0 1.682-.753 1.682-1.682V5.58h2.783a.7.7 0 0 1 .682.716v4.294a4.197 4.197 0 0 1-4.093 4.293c-1.618-.04-3-.99-3.667-2.35Zm10.737-9.372a1.674 1.674 0 1 1-3.349 0 1.674 1.674 0 0 1 3.349 0Zm-2.238 9.488c-.04 0-.08 0-.12-.002a5.19 5.19 0 0 0 .381-2.07V6.306a1.692 1.692 0 0 0-.15-.725h1.792c.39 0 .707.317.707.707v3.765a2.598 2.598 0 0 1-2.598 2.598h-.013Z"/>
                    <path d="M.682 3.349h6.822c.377 0 .682.305.682.682v6.822a.682.682 0 0 1-.682.682H.682A.682.682 0 0 1 0 10.853V4.03c0-.377.305-.682.682-.682Zm5.206 2.596v-.72h-3.59v.72h1.357V9.66h.87V5.945h1.363Z"/>
                </svg>
            </div>
        </a>
        </div>
        
        <div class="carta">
            <div>
                <a href="{% url 'capi_area:richieste' %}">
                <div class="numbers">{{richiestePermesso}}</div>
                <div class="cartaName">Richieste di Permesso</div>
            </div>
            <div class="iconBox">
                <svg xmlns="http://www.w3.org/2000/svg" width="55" height="55" fill="currentColor" class="bi bi-person-dash" viewBox="0 0 16 16">
                    <path d="M12.5 16a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7ZM11 12h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1 0-1Zm0-7a3 3 0 1 1-6 0 3 3 0 0 1 6 0ZM8 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z"/>
                    <path d="M8.256 14a4.474 4.474 0 0 1-.229-1.004H3c.001-.246.154-.986.832-1.664C4.484 10.68 5.711 10 8 10c.26 0 .507.009.74.025.226-.341.496-.65.804-.918C9.077 9.038 8.564 9 8 9c-5 0-6 3-6 4s1 1 1 1h5.256Z"/>
                </svg>
            </div>
        </a>
        </div>

        <div class="carta">
            <div>
                <a href="{% url 'capi_area:richieste' %}">
                <div class="numbers">{{richiesteFerie}}</div>
                <div class="cartaName">Richieste di Ferie</div>
            </div>
            <div class="iconBox">
                <svg xmlns="http://www.w3.org/2000/svg" width="55" height="55" fill="currentColor" class="bi bi-person-fill-dash" viewBox="0 0 16 16">
                    <path d="M12.5 16a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7ZM11 12h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1 0-1Zm0-7a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"/>
                    <path d="M2 13c0 1 1 1 1 1h5.256A4.493 4.493 0 0 1 8 12.5a4.49 4.49 0 0 1 1.544-3.393C9.077 9.038 8.564 9 8 9c-5 0-6 3-6 4Z"/>
                </svg>
            </div>
        </a>
        </div>

        <div class="carta-table">
            <table class="table table-striped table-hover caption-top">
                <caption>Team members </caption>
                <thead>
                <tr>
                    <th scope="col"></th>
                    <td> Nome </td>
                    <td> Et&#224; </td>
                </tr>
                </thead>
                <tbody>
                    {% for teammember in squadra %}
                    <tr>
                        <th scope="col"></th>
                        <td>{{teammember.nominativo}}</td>
                        <td>{% if teammember.eta %}{{teammember.eta}}{% endif %}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
            <div class="iconBox">
                <svg xmlns="http://www.w3.org/2000/svg" width="55" height="55" fill="currentColor" class="bi bi-people-fill" viewBox="0 0 16 16">
                    <path d="M7 14s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1H7Zm4-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm-5.784 6A2.238 2.238 0 0 1 5 13c0-1.355.68-2.75 1.936-3.72A6.325 6.325 0 0 0 5 9c-4 0-5 3-5 4s1 1 1 1h4.216ZM4.5 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z"/>
                </svg>
            </div>
        </div>

</div>    
</section>

<script>

window.onload = function() {
    var elements = document.getElementsByTagName("*");
    for (var i = 0; i < elements.length; i++) {
        elements[i].style.textDecoration = "none";
    }
    };

$("#mostratutto").click(function(event) {
$.ajax({
    type: 'GET',
    url: '/mie-richieste/',
    data: {
    'mostratutto': true
    },
    success: function(response) {
    // Handle the response data here
    }
});
});

</script>

{% endblock content %}


